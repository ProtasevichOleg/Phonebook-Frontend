"use strict";(self.webpackChunkPhonebook_Frontend=self.webpackChunkPhonebook_Frontend||[]).push([[260],{8260:function(e,n,t){t.d(n,{t:function(){return P},l0:function(){return N},bY:function(){return I.Z},__:function(){return R},U0:function(){return A},B2:function(){return B},Mm:function(){return D}});var r,a,o,u,i,s=t(9439),l=t(2791),c=t(9434),d=t(5984),m=t(9883),f=/^[a-zA-Z0-9_.-]+$/,p=/^[^-.].*[^-.]$/,h=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,8})+$/,g=/^\+?\d[\d ()-]{5,14}\d$/,b=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d.,-]*$/,v=function(e,n,t){return""===n.trim()&&(t({type:"warning",message:"".concat(e," field can't be empty")}),!0)},x=function(e,n){return e.trim().length<6||e.trim().length>30?(n({type:"error",message:"Name must be 6-30 characters long"}),!1):f.test(e.trim())?!!p.test(e.trim())||(n({type:"error",message:"Name cannot begin or end with a hyphen or a period"}),!1):(n({type:"error",message:"Name can only include letters, numbers, underscores, hyphens, and periods"}),!1)},y=function(e,n){return!!h.test(e.trim())||(n({type:"error",message:"Email is not valid"}),!1)},w=function(e,n){return e.trim().length<6?(n({type:"error",message:"Password must be at least 6 characters long"}),!1):!!b.test(e.trim())||(n({type:"error",message:"Password must contain at least one letter, one digit, and can include periods, commas, and hyphens"}),!1)},Z=function(e,n,t){return e!==n?(t({type:"error",message:"Password confirmation does not match"}),!1):n.trim().length<6?(t({type:"error",message:"Password must be at least 6 characters long"}),!1):!!b.test(n.trim())||(t({type:"error",message:"Password must contain at least one letter, one digit, and can include periods, commas, and hyphens"}),!1)},S=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;v(e,n,t)||("Name"!==e||x(n,t))&&("Email"!==e||y(n,t))&&("Password"!==e||w(n,t))&&(r&&!Z(n,a,t)||t({type:"success",message:"".concat(e," is valid")}))},j=(t(1615),t(3329)),P=function(){var e=(0,l.useState)(null),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,l.useState)(null),o=(0,s.Z)(a,2),u=o[0],i=o[1],f=(0,l.useState)(null),p=(0,s.Z)(f,2),h=p[0],b=p[1],x=(0,l.useState)(""),w=(0,s.Z)(x,2),Z=w[0],S=w[1],P=(0,l.useState)(""),C=(0,s.Z)(P,2),A=C[0],B=C[1],T=(0,l.useState)(""),k=(0,s.Z)(T,2),E=k[0],z=k[1],_=(0,c.I0)(),L=(0,c.v9)(m.Af),$=(0,l.useRef)((0,d.x0)()),F=(0,l.useRef)((0,d.x0)()),M=(0,l.useRef)((0,d.x0)()),U=(0,l.useMemo)((function(){return function(e,n,t){var r,a;v(e,n,t)||("Phone number"!==e||(r=n,a=t,g.test(r.trim())||(a({type:"error",message:"Phone number can only contain numbers, spaces, dashes, and parentheses"}),0))||"Email"!==e||y(n,t))&&(function(e,n,t,r){return!!e.find((function(e){return e[n.toLowerCase()]===t.trim()}))&&(r({type:"error",message:"".concat(n,' "').concat(t.trim(),'" is already exists')}),!0)}(L,e,n,t)||t({type:"success",message:"".concat(e,' "').concat(n.trim(),'" is available.')}))}}),[L]);return(0,j.jsxs)(N,{onSubmit:function(e){e.preventDefault();var n=L.find((function(e){return e.name.toLowerCase()===Z.toLowerCase()})),t=L.find((function(e){return e.phone===A}));if(!n&&!t){var a={name:Z,phone:A,email:E};_((0,m.uK)(a)),S(""),B(""),z(""),r(null),i(null),b(null)}},children:[(0,j.jsx)(R,{labelTitle:"Name",type:"text",name:"name",value:Z,onChange:function(e){return S(e.target.value)},onBlur:function(){return U("Name",Z,r)},validationStatus:t,id:$.current,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,j.jsx)(I.Z,{fieldAlert:t}),(0,j.jsx)(R,{labelTitle:"Phone",type:"tel",name:"phone",value:A,onChange:function(e){return B(e.target.value)},onBlur:function(){return U("Phone number",A,i)},validationStatus:u,id:F.current,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,j.jsx)(I.Z,{fieldAlert:u}),(0,j.jsx)(R,{labelTitle:"Email",type:"email",name:"email",value:E,onChange:function(e){return z(e.target.value)},onBlur:function(){return U("Email",E,b)},validationStatus:h,id:M.current,title:"Email must be a valid email address, for example johndoe@example.com. It may contain letters, numbers, dots, hyphens and underscores, followed by an @ symbol, and ending with a domain name."}),(0,j.jsx)(I.Z,{fieldAlert:h}),(0,j.jsx)(D,{buttonText:"Add contact"})]})},C=t(6039),A=function(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,l.useState)(""),o=(0,s.Z)(a,2),u=o[0],i=o[1],d=(0,l.useState)(null),m=(0,s.Z)(d,2),f=m[0],p=m[1],h=(0,l.useState)(null),g=(0,s.Z)(h,2),b=g[0],v=g[1],x=(0,c.I0)();return(0,j.jsxs)(N,{onSubmit:function(e){e.preventDefault(),x((0,C.b4)({email:t,password:u})),r(""),i(""),p(null),v(null)},children:[(0,j.jsx)(R,{labelTitle:"Email",type:"email",name:"email",value:t,onChange:function(e){return r(e.target.value)},onBlur:function(){return S("Email",t,p)},validationStatus:f}),(0,j.jsx)(I.Z,{fieldAlert:f}),(0,j.jsx)(R,{labelTitle:"Password",type:"password",name:"password",value:u,onChange:function(e){return i(e.target.value)},onBlur:function(){S("Password",u,v)},validationStatus:b}),(0,j.jsx)(I.Z,{fieldAlert:b}),(0,j.jsx)(D,{buttonText:"Log in"})]})},B=function(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,l.useState)(""),o=(0,s.Z)(a,2),u=o[0],i=o[1],d=(0,l.useState)(""),m=(0,s.Z)(d,2),f=m[0],p=m[1],h=(0,l.useState)(""),g=(0,s.Z)(h,2),b=g[0],v=g[1],x=(0,l.useState)(null),y=(0,s.Z)(x,2),w=y[0],Z=y[1],P=(0,l.useState)(null),A=(0,s.Z)(P,2),B=A[0],T=A[1],k=(0,l.useState)(null),E=(0,s.Z)(k,2),z=E[0],_=E[1],L=(0,l.useState)(null),$=(0,s.Z)(L,2),F=$[0],M=$[1],U=(0,c.I0)(),q=(0,c.v9)((function(e){return e.auth})),H=q.isLoading,J=q.error;return(0,j.jsxs)(N,{onSubmit:function(e){e.preventDefault(),f===b&&(U((0,C.z2)({name:t,email:u,password:f})),H||J||(r(""),i(""),p(""),v(""),Z(null),T(null),_(null),M(null)))},children:[(0,j.jsx)(R,{labelTitle:"Name",type:"text",name:"name",value:t,onChange:function(e){return r(e.target.value)},onBlur:function(){return S("Name",t,Z)},validationStatus:w}),(0,j.jsx)(I.Z,{fieldAlert:w}),(0,j.jsx)(R,{labelTitle:"Email",type:"email",name:"email",value:u,onChange:function(e){return i(e.target.value)},onBlur:function(){return S("Email",u,T)},validationStatus:B}),(0,j.jsx)(I.Z,{fieldAlert:B}),(0,j.jsx)(R,{labelTitle:"Password",type:"password",name:"password",value:f,onChange:function(e){return p(e.target.value)},onBlur:function(){S("Password",f,_)},validationStatus:z}),(0,j.jsx)(I.Z,{fieldAlert:z}),(0,j.jsx)(R,{labelTitle:"Confirm Password",type:"password",name:"confirm",value:b,onChange:function(e){return v(e.target.value)},onBlur:function(){S("Confirm Password",b,M,!0,f)},validationStatus:F}),(0,j.jsx)(I.Z,{fieldAlert:F}),(0,j.jsx)(D,{buttonText:"Register"})]})},T=t(168),k=t(6444),E=k.ZP.form(r||(r=(0,T.Z)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 250px;\n  margin-bottom: 20px;\n"]))),N=function(e){var n=e.onSubmit,t=e.children;return(0,j.jsx)(E,{onSubmit:n,children:t})},z=k.ZP.label(a||(a=(0,T.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.label})),_=k.ZP.span(o||(o=(0,T.Z)(["\n  display: block;\n  margin-bottom: 5px;\n  font-size: 1.1em;\n  font-weight: bold;\n"]))),L=k.ZP.input(u||(u=(0,T.Z)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: 2px solid\n    ",";\n  width: 100%;\n  box-sizing: border-box;\n"])),(function(e){var n=e.theme,t=e.validationStatus;switch(null===t||void 0===t?void 0:t.type){case"error":return"red";case"warning":return"orange";case"success":return"green";default:return n.colors.inputBorder}})),R=function(e){var n=e.labelTitle,t=e.type,r=e.name,a=e.value,o=e.onChange,u=e.onBlur,i=e.validationStatus,s=e.id,l=e.title;return(0,j.jsxs)(z,{children:[(0,j.jsx)(_,{children:n}),(0,j.jsx)(L,{type:t,name:r,value:a,onChange:o,onBlur:u,validationStatus:i,id:s,title:l,required:!0})]})},$=k.ZP.button(i||(i=(0,T.Z)(["\n  margin-top: 10px;\n  padding: 5px 10px;\n  border-radius: 5px;\n  border: none;\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  width: 100%;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.buttonBackgroundDefault}),(function(e){return e.theme.colors.buttonText}),(function(e){return e.theme.colors.buttonBackgroundHover})),D=function(e){var n=e.buttonText;return(0,j.jsx)($,{type:"submit",children:n})},I=t(8262)},5984:function(e,n,t){t.d(n,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,n){return e+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=260.d0546968.chunk.js.map